#include <stdbool.h>
#include <stdio.h>
#include "test.h"

#include "push_button_counter.h"

#define SAMPLE_SIZE 529

extern unsigned int err_cnt;

void test(void) {

	struct sample {
		bool inc;
		bool dec;
		unsigned char expected_result;
	};
	/*
	 * Note: the Red Pitaya exp_n_io pins are high by default,
	 * when a button is pressed the pin is set to 0
	 *
	 * Therefore we have to assume inc and dec high by default
	 */
	struct sample samples[SAMPLE_SIZE] = {
		/* idle */
		{ .inc = 1, .dec = 1, .expected_result = 0},
		{ .inc = 1, .dec = 1, .expected_result = 0},
		{ .inc = 1, .dec = 1, .expected_result = 0},
		/* underflow */
		{ .inc = 1, .dec = 0, .expected_result = 0},
		{ .inc = 1, .dec = 1, .expected_result = 0},
		/* inc button is pushed */
		{ .inc = 0, .dec = 1, .expected_result = 0},
		{ .inc = 1, .dec = 1, .expected_result = 1},
		/* inc button is pushed for a longer time */
		{ .inc = 0, .dec = 1, .expected_result = 1},
		{ .inc = 0, .dec = 1, .expected_result = 1},
		{ .inc = 1, .dec = 1, .expected_result = 2},
		/* dec button is pushed */
		{ .inc = 1, .dec = 0, .expected_result = 2},
		{ .inc = 1, .dec = 1, .expected_result = 1},
		{ .inc = 1, .dec = 1, .expected_result = 1},
		/* dec button is pushed for a longer time */
		{ .inc = 1, .dec = 0, .expected_result = 1},
		{ .inc = 1, .dec = 0, .expected_result = 1},
		{ .inc = 1, .dec = 0, .expected_result = 1},
		{ .inc = 1, .dec = 1, .expected_result = 0},
		/* inc to 255 */
		{ .inc = 0, .dec = 1, .expected_result = 0},
		{ .inc = 1, .dec = 1, .expected_result = 1},
		{ .inc = 0, .dec = 1, .expected_result = 1},
		{ .inc = 1, .dec = 1, .expected_result = 2},
		{ .inc = 0, .dec = 1, .expected_result = 2},
		{ .inc = 1, .dec = 1, .expected_result = 3},
		{ .inc = 0, .dec = 1, .expected_result = 3},
		{ .inc = 1, .dec = 1, .expected_result = 4},
		{ .inc = 0, .dec = 1, .expected_result = 4},
		{ .inc = 1, .dec = 1, .expected_result = 5},
		{ .inc = 0, .dec = 1, .expected_result = 5},
		{ .inc = 1, .dec = 1, .expected_result = 6},
		{ .inc = 0, .dec = 1, .expected_result = 6},
		{ .inc = 1, .dec = 1, .expected_result = 7},
		{ .inc = 0, .dec = 1, .expected_result = 7},
		{ .inc = 1, .dec = 1, .expected_result = 8},
		{ .inc = 0, .dec = 1, .expected_result = 8},
		{ .inc = 1, .dec = 1, .expected_result = 9},
		{ .inc = 0, .dec = 1, .expected_result = 9},
		{ .inc = 1, .dec = 1, .expected_result = 10},
		{ .inc = 0, .dec = 1, .expected_result = 10},
		{ .inc = 1, .dec = 1, .expected_result = 11},
		{ .inc = 0, .dec = 1, .expected_result = 11},
		{ .inc = 1, .dec = 1, .expected_result = 12},
		{ .inc = 0, .dec = 1, .expected_result = 12},
		{ .inc = 1, .dec = 1, .expected_result = 13},
		{ .inc = 0, .dec = 1, .expected_result = 13},
		{ .inc = 1, .dec = 1, .expected_result = 14},
		{ .inc = 0, .dec = 1, .expected_result = 14},
		{ .inc = 1, .dec = 1, .expected_result = 15},
		{ .inc = 0, .dec = 1, .expected_result = 15},
		{ .inc = 1, .dec = 1, .expected_result = 16},
		{ .inc = 0, .dec = 1, .expected_result = 16},
		{ .inc = 1, .dec = 1, .expected_result = 17},
		{ .inc = 0, .dec = 1, .expected_result = 17},
		{ .inc = 1, .dec = 1, .expected_result = 18},
		{ .inc = 0, .dec = 1, .expected_result = 18},
		{ .inc = 1, .dec = 1, .expected_result = 19},
		{ .inc = 0, .dec = 1, .expected_result = 19},
		{ .inc = 1, .dec = 1, .expected_result = 20},
		{ .inc = 0, .dec = 1, .expected_result = 20},
		{ .inc = 1, .dec = 1, .expected_result = 21},
		{ .inc = 0, .dec = 1, .expected_result = 21},
		{ .inc = 1, .dec = 1, .expected_result = 22},
		{ .inc = 0, .dec = 1, .expected_result = 22},
		{ .inc = 1, .dec = 1, .expected_result = 23},
		{ .inc = 0, .dec = 1, .expected_result = 23},
		{ .inc = 1, .dec = 1, .expected_result = 24},
		{ .inc = 0, .dec = 1, .expected_result = 24},
		{ .inc = 1, .dec = 1, .expected_result = 25},
		{ .inc = 0, .dec = 1, .expected_result = 25},
		{ .inc = 1, .dec = 1, .expected_result = 26},
		{ .inc = 0, .dec = 1, .expected_result = 26},
		{ .inc = 1, .dec = 1, .expected_result = 27},
		{ .inc = 0, .dec = 1, .expected_result = 27},
		{ .inc = 1, .dec = 1, .expected_result = 28},
		{ .inc = 0, .dec = 1, .expected_result = 28},
		{ .inc = 1, .dec = 1, .expected_result = 29},
		{ .inc = 0, .dec = 1, .expected_result = 29},
		{ .inc = 1, .dec = 1, .expected_result = 30},
		{ .inc = 0, .dec = 1, .expected_result = 30},
		{ .inc = 1, .dec = 1, .expected_result = 31},
		{ .inc = 0, .dec = 1, .expected_result = 31},
		{ .inc = 1, .dec = 1, .expected_result = 32},
		{ .inc = 0, .dec = 1, .expected_result = 32},
		{ .inc = 1, .dec = 1, .expected_result = 33},
		{ .inc = 0, .dec = 1, .expected_result = 33},
		{ .inc = 1, .dec = 1, .expected_result = 34},
		{ .inc = 0, .dec = 1, .expected_result = 34},
		{ .inc = 1, .dec = 1, .expected_result = 35},
		{ .inc = 0, .dec = 1, .expected_result = 35},
		{ .inc = 1, .dec = 1, .expected_result = 36},
		{ .inc = 0, .dec = 1, .expected_result = 36},
		{ .inc = 1, .dec = 1, .expected_result = 37},
		{ .inc = 0, .dec = 1, .expected_result = 37},
		{ .inc = 1, .dec = 1, .expected_result = 38},
		{ .inc = 0, .dec = 1, .expected_result = 38},
		{ .inc = 1, .dec = 1, .expected_result = 39},
		{ .inc = 0, .dec = 1, .expected_result = 39},
		{ .inc = 1, .dec = 1, .expected_result = 40},
		{ .inc = 0, .dec = 1, .expected_result = 40},
		{ .inc = 1, .dec = 1, .expected_result = 41},
		{ .inc = 0, .dec = 1, .expected_result = 41},
		{ .inc = 1, .dec = 1, .expected_result = 42},
		{ .inc = 0, .dec = 1, .expected_result = 42},
		{ .inc = 1, .dec = 1, .expected_result = 43},
		{ .inc = 0, .dec = 1, .expected_result = 43},
		{ .inc = 1, .dec = 1, .expected_result = 44},
		{ .inc = 0, .dec = 1, .expected_result = 44},
		{ .inc = 1, .dec = 1, .expected_result = 45},
		{ .inc = 0, .dec = 1, .expected_result = 45},
		{ .inc = 1, .dec = 1, .expected_result = 46},
		{ .inc = 0, .dec = 1, .expected_result = 46},
		{ .inc = 1, .dec = 1, .expected_result = 47},
		{ .inc = 0, .dec = 1, .expected_result = 47},
		{ .inc = 1, .dec = 1, .expected_result = 48},
		{ .inc = 0, .dec = 1, .expected_result = 48},
		{ .inc = 1, .dec = 1, .expected_result = 49},
		{ .inc = 0, .dec = 1, .expected_result = 49},
		{ .inc = 1, .dec = 1, .expected_result = 50},
		{ .inc = 0, .dec = 1, .expected_result = 50},
		{ .inc = 1, .dec = 1, .expected_result = 51},
		{ .inc = 0, .dec = 1, .expected_result = 51},
		{ .inc = 1, .dec = 1, .expected_result = 52},
		{ .inc = 0, .dec = 1, .expected_result = 52},
		{ .inc = 1, .dec = 1, .expected_result = 53},
		{ .inc = 0, .dec = 1, .expected_result = 53},
		{ .inc = 1, .dec = 1, .expected_result = 54},
		{ .inc = 0, .dec = 1, .expected_result = 54},
		{ .inc = 1, .dec = 1, .expected_result = 55},
		{ .inc = 0, .dec = 1, .expected_result = 55},
		{ .inc = 1, .dec = 1, .expected_result = 56},
		{ .inc = 0, .dec = 1, .expected_result = 56},
		{ .inc = 1, .dec = 1, .expected_result = 57},
		{ .inc = 0, .dec = 1, .expected_result = 57},
		{ .inc = 1, .dec = 1, .expected_result = 58},
		{ .inc = 0, .dec = 1, .expected_result = 58},
		{ .inc = 1, .dec = 1, .expected_result = 59},
		{ .inc = 0, .dec = 1, .expected_result = 59},
		{ .inc = 1, .dec = 1, .expected_result = 60},
		{ .inc = 0, .dec = 1, .expected_result = 60},
		{ .inc = 1, .dec = 1, .expected_result = 61},
		{ .inc = 0, .dec = 1, .expected_result = 61},
		{ .inc = 1, .dec = 1, .expected_result = 62},
		{ .inc = 0, .dec = 1, .expected_result = 62},
		{ .inc = 1, .dec = 1, .expected_result = 63},
		{ .inc = 0, .dec = 1, .expected_result = 63},
		{ .inc = 1, .dec = 1, .expected_result = 64},
		{ .inc = 0, .dec = 1, .expected_result = 64},
		{ .inc = 1, .dec = 1, .expected_result = 65},
		{ .inc = 0, .dec = 1, .expected_result = 65},
		{ .inc = 1, .dec = 1, .expected_result = 66},
		{ .inc = 0, .dec = 1, .expected_result = 66},
		{ .inc = 1, .dec = 1, .expected_result = 67},
		{ .inc = 0, .dec = 1, .expected_result = 67},
		{ .inc = 1, .dec = 1, .expected_result = 68},
		{ .inc = 0, .dec = 1, .expected_result = 68},
		{ .inc = 1, .dec = 1, .expected_result = 69},
		{ .inc = 0, .dec = 1, .expected_result = 69},
		{ .inc = 1, .dec = 1, .expected_result = 70},
		{ .inc = 0, .dec = 1, .expected_result = 70},
		{ .inc = 1, .dec = 1, .expected_result = 71},
		{ .inc = 0, .dec = 1, .expected_result = 71},
		{ .inc = 1, .dec = 1, .expected_result = 72},
		{ .inc = 0, .dec = 1, .expected_result = 72},
		{ .inc = 1, .dec = 1, .expected_result = 73},
		{ .inc = 0, .dec = 1, .expected_result = 73},
		{ .inc = 1, .dec = 1, .expected_result = 74},
		{ .inc = 0, .dec = 1, .expected_result = 74},
		{ .inc = 1, .dec = 1, .expected_result = 75},
		{ .inc = 0, .dec = 1, .expected_result = 75},
		{ .inc = 1, .dec = 1, .expected_result = 76},
		{ .inc = 0, .dec = 1, .expected_result = 76},
		{ .inc = 1, .dec = 1, .expected_result = 77},
		{ .inc = 0, .dec = 1, .expected_result = 77},
		{ .inc = 1, .dec = 1, .expected_result = 78},
		{ .inc = 0, .dec = 1, .expected_result = 78},
		{ .inc = 1, .dec = 1, .expected_result = 79},
		{ .inc = 0, .dec = 1, .expected_result = 79},
		{ .inc = 1, .dec = 1, .expected_result = 80},
		{ .inc = 0, .dec = 1, .expected_result = 80},
		{ .inc = 1, .dec = 1, .expected_result = 81},
		{ .inc = 0, .dec = 1, .expected_result = 81},
		{ .inc = 1, .dec = 1, .expected_result = 82},
		{ .inc = 0, .dec = 1, .expected_result = 82},
		{ .inc = 1, .dec = 1, .expected_result = 83},
		{ .inc = 0, .dec = 1, .expected_result = 83},
		{ .inc = 1, .dec = 1, .expected_result = 84},
		{ .inc = 0, .dec = 1, .expected_result = 84},
		{ .inc = 1, .dec = 1, .expected_result = 85},
		{ .inc = 0, .dec = 1, .expected_result = 85},
		{ .inc = 1, .dec = 1, .expected_result = 86},
		{ .inc = 0, .dec = 1, .expected_result = 86},
		{ .inc = 1, .dec = 1, .expected_result = 87},
		{ .inc = 0, .dec = 1, .expected_result = 87},
		{ .inc = 1, .dec = 1, .expected_result = 88},
		{ .inc = 0, .dec = 1, .expected_result = 88},
		{ .inc = 1, .dec = 1, .expected_result = 89},
		{ .inc = 0, .dec = 1, .expected_result = 89},
		{ .inc = 1, .dec = 1, .expected_result = 90},
		{ .inc = 0, .dec = 1, .expected_result = 90},
		{ .inc = 1, .dec = 1, .expected_result = 91},
		{ .inc = 0, .dec = 1, .expected_result = 91},
		{ .inc = 1, .dec = 1, .expected_result = 92},
		{ .inc = 0, .dec = 1, .expected_result = 92},
		{ .inc = 1, .dec = 1, .expected_result = 93},
		{ .inc = 0, .dec = 1, .expected_result = 93},
		{ .inc = 1, .dec = 1, .expected_result = 94},
		{ .inc = 0, .dec = 1, .expected_result = 94},
		{ .inc = 1, .dec = 1, .expected_result = 95},
		{ .inc = 0, .dec = 1, .expected_result = 95},
		{ .inc = 1, .dec = 1, .expected_result = 96},
		{ .inc = 0, .dec = 1, .expected_result = 96},
		{ .inc = 1, .dec = 1, .expected_result = 97},
		{ .inc = 0, .dec = 1, .expected_result = 97},
		{ .inc = 1, .dec = 1, .expected_result = 98},
		{ .inc = 0, .dec = 1, .expected_result = 98},
		{ .inc = 1, .dec = 1, .expected_result = 99},
		{ .inc = 0, .dec = 1, .expected_result = 99},
		{ .inc = 1, .dec = 1, .expected_result = 100},
		{ .inc = 0, .dec = 1, .expected_result = 100},
		{ .inc = 1, .dec = 1, .expected_result = 101},
		{ .inc = 0, .dec = 1, .expected_result = 101},
		{ .inc = 1, .dec = 1, .expected_result = 102},
		{ .inc = 0, .dec = 1, .expected_result = 102},
		{ .inc = 1, .dec = 1, .expected_result = 103},
		{ .inc = 0, .dec = 1, .expected_result = 103},
		{ .inc = 1, .dec = 1, .expected_result = 104},
		{ .inc = 0, .dec = 1, .expected_result = 104},
		{ .inc = 1, .dec = 1, .expected_result = 105},
		{ .inc = 0, .dec = 1, .expected_result = 105},
		{ .inc = 1, .dec = 1, .expected_result = 106},
		{ .inc = 0, .dec = 1, .expected_result = 106},
		{ .inc = 1, .dec = 1, .expected_result = 107},
		{ .inc = 0, .dec = 1, .expected_result = 107},
		{ .inc = 1, .dec = 1, .expected_result = 108},
		{ .inc = 0, .dec = 1, .expected_result = 108},
		{ .inc = 1, .dec = 1, .expected_result = 109},
		{ .inc = 0, .dec = 1, .expected_result = 109},
		{ .inc = 1, .dec = 1, .expected_result = 110},
		{ .inc = 0, .dec = 1, .expected_result = 110},
		{ .inc = 1, .dec = 1, .expected_result = 111},
		{ .inc = 0, .dec = 1, .expected_result = 111},
		{ .inc = 1, .dec = 1, .expected_result = 112},
		{ .inc = 0, .dec = 1, .expected_result = 112},
		{ .inc = 1, .dec = 1, .expected_result = 113},
		{ .inc = 0, .dec = 1, .expected_result = 113},
		{ .inc = 1, .dec = 1, .expected_result = 114},
		{ .inc = 0, .dec = 1, .expected_result = 114},
		{ .inc = 1, .dec = 1, .expected_result = 115},
		{ .inc = 0, .dec = 1, .expected_result = 115},
		{ .inc = 1, .dec = 1, .expected_result = 116},
		{ .inc = 0, .dec = 1, .expected_result = 116},
		{ .inc = 1, .dec = 1, .expected_result = 117},
		{ .inc = 0, .dec = 1, .expected_result = 117},
		{ .inc = 1, .dec = 1, .expected_result = 118},
		{ .inc = 0, .dec = 1, .expected_result = 118},
		{ .inc = 1, .dec = 1, .expected_result = 119},
		{ .inc = 0, .dec = 1, .expected_result = 119},
		{ .inc = 1, .dec = 1, .expected_result = 120},
		{ .inc = 0, .dec = 1, .expected_result = 120},
		{ .inc = 1, .dec = 1, .expected_result = 121},
		{ .inc = 0, .dec = 1, .expected_result = 121},
		{ .inc = 1, .dec = 1, .expected_result = 122},
		{ .inc = 0, .dec = 1, .expected_result = 122},
		{ .inc = 1, .dec = 1, .expected_result = 123},
		{ .inc = 0, .dec = 1, .expected_result = 123},
		{ .inc = 1, .dec = 1, .expected_result = 124},
		{ .inc = 0, .dec = 1, .expected_result = 124},
		{ .inc = 1, .dec = 1, .expected_result = 125},
		{ .inc = 0, .dec = 1, .expected_result = 125},
		{ .inc = 1, .dec = 1, .expected_result = 126},
		{ .inc = 0, .dec = 1, .expected_result = 126},
		{ .inc = 1, .dec = 1, .expected_result = 127},
		{ .inc = 0, .dec = 1, .expected_result = 127},
		{ .inc = 1, .dec = 1, .expected_result = 128},
		{ .inc = 0, .dec = 1, .expected_result = 128},
		{ .inc = 1, .dec = 1, .expected_result = 129},
		{ .inc = 0, .dec = 1, .expected_result = 129},
		{ .inc = 1, .dec = 1, .expected_result = 130},
		{ .inc = 0, .dec = 1, .expected_result = 130},
		{ .inc = 1, .dec = 1, .expected_result = 131},
		{ .inc = 0, .dec = 1, .expected_result = 131},
		{ .inc = 1, .dec = 1, .expected_result = 132},
		{ .inc = 0, .dec = 1, .expected_result = 132},
		{ .inc = 1, .dec = 1, .expected_result = 133},
		{ .inc = 0, .dec = 1, .expected_result = 133},
		{ .inc = 1, .dec = 1, .expected_result = 134},
		{ .inc = 0, .dec = 1, .expected_result = 134},
		{ .inc = 1, .dec = 1, .expected_result = 135},
		{ .inc = 0, .dec = 1, .expected_result = 135},
		{ .inc = 1, .dec = 1, .expected_result = 136},
		{ .inc = 0, .dec = 1, .expected_result = 136},
		{ .inc = 1, .dec = 1, .expected_result = 137},
		{ .inc = 0, .dec = 1, .expected_result = 137},
		{ .inc = 1, .dec = 1, .expected_result = 138},
		{ .inc = 0, .dec = 1, .expected_result = 138},
		{ .inc = 1, .dec = 1, .expected_result = 139},
		{ .inc = 0, .dec = 1, .expected_result = 139},
		{ .inc = 1, .dec = 1, .expected_result = 140},
		{ .inc = 0, .dec = 1, .expected_result = 140},
		{ .inc = 1, .dec = 1, .expected_result = 141},
		{ .inc = 0, .dec = 1, .expected_result = 141},
		{ .inc = 1, .dec = 1, .expected_result = 142},
		{ .inc = 0, .dec = 1, .expected_result = 142},
		{ .inc = 1, .dec = 1, .expected_result = 143},
		{ .inc = 0, .dec = 1, .expected_result = 143},
		{ .inc = 1, .dec = 1, .expected_result = 144},
		{ .inc = 0, .dec = 1, .expected_result = 144},
		{ .inc = 1, .dec = 1, .expected_result = 145},
		{ .inc = 0, .dec = 1, .expected_result = 145},
		{ .inc = 1, .dec = 1, .expected_result = 146},
		{ .inc = 0, .dec = 1, .expected_result = 146},
		{ .inc = 1, .dec = 1, .expected_result = 147},
		{ .inc = 0, .dec = 1, .expected_result = 147},
		{ .inc = 1, .dec = 1, .expected_result = 148},
		{ .inc = 0, .dec = 1, .expected_result = 148},
		{ .inc = 1, .dec = 1, .expected_result = 149},
		{ .inc = 0, .dec = 1, .expected_result = 149},
		{ .inc = 1, .dec = 1, .expected_result = 150},
		{ .inc = 0, .dec = 1, .expected_result = 150},
		{ .inc = 1, .dec = 1, .expected_result = 151},
		{ .inc = 0, .dec = 1, .expected_result = 151},
		{ .inc = 1, .dec = 1, .expected_result = 152},
		{ .inc = 0, .dec = 1, .expected_result = 152},
		{ .inc = 1, .dec = 1, .expected_result = 153},
		{ .inc = 0, .dec = 1, .expected_result = 153},
		{ .inc = 1, .dec = 1, .expected_result = 154},
		{ .inc = 0, .dec = 1, .expected_result = 154},
		{ .inc = 1, .dec = 1, .expected_result = 155},
		{ .inc = 0, .dec = 1, .expected_result = 155},
		{ .inc = 1, .dec = 1, .expected_result = 156},
		{ .inc = 0, .dec = 1, .expected_result = 156},
		{ .inc = 1, .dec = 1, .expected_result = 157},
		{ .inc = 0, .dec = 1, .expected_result = 157},
		{ .inc = 1, .dec = 1, .expected_result = 158},
		{ .inc = 0, .dec = 1, .expected_result = 158},
		{ .inc = 1, .dec = 1, .expected_result = 159},
		{ .inc = 0, .dec = 1, .expected_result = 159},
		{ .inc = 1, .dec = 1, .expected_result = 160},
		{ .inc = 0, .dec = 1, .expected_result = 160},
		{ .inc = 1, .dec = 1, .expected_result = 161},
		{ .inc = 0, .dec = 1, .expected_result = 161},
		{ .inc = 1, .dec = 1, .expected_result = 162},
		{ .inc = 0, .dec = 1, .expected_result = 162},
		{ .inc = 1, .dec = 1, .expected_result = 163},
		{ .inc = 0, .dec = 1, .expected_result = 163},
		{ .inc = 1, .dec = 1, .expected_result = 164},
		{ .inc = 0, .dec = 1, .expected_result = 164},
		{ .inc = 1, .dec = 1, .expected_result = 165},
		{ .inc = 0, .dec = 1, .expected_result = 165},
		{ .inc = 1, .dec = 1, .expected_result = 166},
		{ .inc = 0, .dec = 1, .expected_result = 166},
		{ .inc = 1, .dec = 1, .expected_result = 167},
		{ .inc = 0, .dec = 1, .expected_result = 167},
		{ .inc = 1, .dec = 1, .expected_result = 168},
		{ .inc = 0, .dec = 1, .expected_result = 168},
		{ .inc = 1, .dec = 1, .expected_result = 169},
		{ .inc = 0, .dec = 1, .expected_result = 169},
		{ .inc = 1, .dec = 1, .expected_result = 170},
		{ .inc = 0, .dec = 1, .expected_result = 170},
		{ .inc = 1, .dec = 1, .expected_result = 171},
		{ .inc = 0, .dec = 1, .expected_result = 171},
		{ .inc = 1, .dec = 1, .expected_result = 172},
		{ .inc = 0, .dec = 1, .expected_result = 172},
		{ .inc = 1, .dec = 1, .expected_result = 173},
		{ .inc = 0, .dec = 1, .expected_result = 173},
		{ .inc = 1, .dec = 1, .expected_result = 174},
		{ .inc = 0, .dec = 1, .expected_result = 174},
		{ .inc = 1, .dec = 1, .expected_result = 175},
		{ .inc = 0, .dec = 1, .expected_result = 175},
		{ .inc = 1, .dec = 1, .expected_result = 176},
		{ .inc = 0, .dec = 1, .expected_result = 176},
		{ .inc = 1, .dec = 1, .expected_result = 177},
		{ .inc = 0, .dec = 1, .expected_result = 177},
		{ .inc = 1, .dec = 1, .expected_result = 178},
		{ .inc = 0, .dec = 1, .expected_result = 178},
		{ .inc = 1, .dec = 1, .expected_result = 179},
		{ .inc = 0, .dec = 1, .expected_result = 179},
		{ .inc = 1, .dec = 1, .expected_result = 180},
		{ .inc = 0, .dec = 1, .expected_result = 180},
		{ .inc = 1, .dec = 1, .expected_result = 181},
		{ .inc = 0, .dec = 1, .expected_result = 181},
		{ .inc = 1, .dec = 1, .expected_result = 182},
		{ .inc = 0, .dec = 1, .expected_result = 182},
		{ .inc = 1, .dec = 1, .expected_result = 183},
		{ .inc = 0, .dec = 1, .expected_result = 183},
		{ .inc = 1, .dec = 1, .expected_result = 184},
		{ .inc = 0, .dec = 1, .expected_result = 184},
		{ .inc = 1, .dec = 1, .expected_result = 185},
		{ .inc = 0, .dec = 1, .expected_result = 185},
		{ .inc = 1, .dec = 1, .expected_result = 186},
		{ .inc = 0, .dec = 1, .expected_result = 186},
		{ .inc = 1, .dec = 1, .expected_result = 187},
		{ .inc = 0, .dec = 1, .expected_result = 187},
		{ .inc = 1, .dec = 1, .expected_result = 188},
		{ .inc = 0, .dec = 1, .expected_result = 188},
		{ .inc = 1, .dec = 1, .expected_result = 189},
		{ .inc = 0, .dec = 1, .expected_result = 189},
		{ .inc = 1, .dec = 1, .expected_result = 190},
		{ .inc = 0, .dec = 1, .expected_result = 190},
		{ .inc = 1, .dec = 1, .expected_result = 191},
		{ .inc = 0, .dec = 1, .expected_result = 191},
		{ .inc = 1, .dec = 1, .expected_result = 192},
		{ .inc = 0, .dec = 1, .expected_result = 192},
		{ .inc = 1, .dec = 1, .expected_result = 193},
		{ .inc = 0, .dec = 1, .expected_result = 193},
		{ .inc = 1, .dec = 1, .expected_result = 194},
		{ .inc = 0, .dec = 1, .expected_result = 194},
		{ .inc = 1, .dec = 1, .expected_result = 195},
		{ .inc = 0, .dec = 1, .expected_result = 195},
		{ .inc = 1, .dec = 1, .expected_result = 196},
		{ .inc = 0, .dec = 1, .expected_result = 196},
		{ .inc = 1, .dec = 1, .expected_result = 197},
		{ .inc = 0, .dec = 1, .expected_result = 197},
		{ .inc = 1, .dec = 1, .expected_result = 198},
		{ .inc = 0, .dec = 1, .expected_result = 198},
		{ .inc = 1, .dec = 1, .expected_result = 199},
		{ .inc = 0, .dec = 1, .expected_result = 199},
		{ .inc = 1, .dec = 1, .expected_result = 200},
		{ .inc = 0, .dec = 1, .expected_result = 200},
		{ .inc = 1, .dec = 1, .expected_result = 201},
		{ .inc = 0, .dec = 1, .expected_result = 201},
		{ .inc = 1, .dec = 1, .expected_result = 202},
		{ .inc = 0, .dec = 1, .expected_result = 202},
		{ .inc = 1, .dec = 1, .expected_result = 203},
		{ .inc = 0, .dec = 1, .expected_result = 203},
		{ .inc = 1, .dec = 1, .expected_result = 204},
		{ .inc = 0, .dec = 1, .expected_result = 204},
		{ .inc = 1, .dec = 1, .expected_result = 205},
		{ .inc = 0, .dec = 1, .expected_result = 205},
		{ .inc = 1, .dec = 1, .expected_result = 206},
		{ .inc = 0, .dec = 1, .expected_result = 206},
		{ .inc = 1, .dec = 1, .expected_result = 207},
		{ .inc = 0, .dec = 1, .expected_result = 207},
		{ .inc = 1, .dec = 1, .expected_result = 208},
		{ .inc = 0, .dec = 1, .expected_result = 208},
		{ .inc = 1, .dec = 1, .expected_result = 209},
		{ .inc = 0, .dec = 1, .expected_result = 209},
		{ .inc = 1, .dec = 1, .expected_result = 210},
		{ .inc = 0, .dec = 1, .expected_result = 210},
		{ .inc = 1, .dec = 1, .expected_result = 211},
		{ .inc = 0, .dec = 1, .expected_result = 211},
		{ .inc = 1, .dec = 1, .expected_result = 212},
		{ .inc = 0, .dec = 1, .expected_result = 212},
		{ .inc = 1, .dec = 1, .expected_result = 213},
		{ .inc = 0, .dec = 1, .expected_result = 213},
		{ .inc = 1, .dec = 1, .expected_result = 214},
		{ .inc = 0, .dec = 1, .expected_result = 214},
		{ .inc = 1, .dec = 1, .expected_result = 215},
		{ .inc = 0, .dec = 1, .expected_result = 215},
		{ .inc = 1, .dec = 1, .expected_result = 216},
		{ .inc = 0, .dec = 1, .expected_result = 216},
		{ .inc = 1, .dec = 1, .expected_result = 217},
		{ .inc = 0, .dec = 1, .expected_result = 217},
		{ .inc = 1, .dec = 1, .expected_result = 218},
		{ .inc = 0, .dec = 1, .expected_result = 218},
		{ .inc = 1, .dec = 1, .expected_result = 219},
		{ .inc = 0, .dec = 1, .expected_result = 219},
		{ .inc = 1, .dec = 1, .expected_result = 220},
		{ .inc = 0, .dec = 1, .expected_result = 220},
		{ .inc = 1, .dec = 1, .expected_result = 221},
		{ .inc = 0, .dec = 1, .expected_result = 221},
		{ .inc = 1, .dec = 1, .expected_result = 222},
		{ .inc = 0, .dec = 1, .expected_result = 222},
		{ .inc = 1, .dec = 1, .expected_result = 223},
		{ .inc = 0, .dec = 1, .expected_result = 223},
		{ .inc = 1, .dec = 1, .expected_result = 224},
		{ .inc = 0, .dec = 1, .expected_result = 224},
		{ .inc = 1, .dec = 1, .expected_result = 225},
		{ .inc = 0, .dec = 1, .expected_result = 225},
		{ .inc = 1, .dec = 1, .expected_result = 226},
		{ .inc = 0, .dec = 1, .expected_result = 226},
		{ .inc = 1, .dec = 1, .expected_result = 227},
		{ .inc = 0, .dec = 1, .expected_result = 227},
		{ .inc = 1, .dec = 1, .expected_result = 228},
		{ .inc = 0, .dec = 1, .expected_result = 228},
		{ .inc = 1, .dec = 1, .expected_result = 229},
		{ .inc = 0, .dec = 1, .expected_result = 229},
		{ .inc = 1, .dec = 1, .expected_result = 230},
		{ .inc = 0, .dec = 1, .expected_result = 230},
		{ .inc = 1, .dec = 1, .expected_result = 231},
		{ .inc = 0, .dec = 1, .expected_result = 231},
		{ .inc = 1, .dec = 1, .expected_result = 232},
		{ .inc = 0, .dec = 1, .expected_result = 232},
		{ .inc = 1, .dec = 1, .expected_result = 233},
		{ .inc = 0, .dec = 1, .expected_result = 233},
		{ .inc = 1, .dec = 1, .expected_result = 234},
		{ .inc = 0, .dec = 1, .expected_result = 234},
		{ .inc = 1, .dec = 1, .expected_result = 235},
		{ .inc = 0, .dec = 1, .expected_result = 235},
		{ .inc = 1, .dec = 1, .expected_result = 236},
		{ .inc = 0, .dec = 1, .expected_result = 236},
		{ .inc = 1, .dec = 1, .expected_result = 237},
		{ .inc = 0, .dec = 1, .expected_result = 237},
		{ .inc = 1, .dec = 1, .expected_result = 238},
		{ .inc = 0, .dec = 1, .expected_result = 238},
		{ .inc = 1, .dec = 1, .expected_result = 239},
		{ .inc = 0, .dec = 1, .expected_result = 239},
		{ .inc = 1, .dec = 1, .expected_result = 240},
		{ .inc = 0, .dec = 1, .expected_result = 240},
		{ .inc = 1, .dec = 1, .expected_result = 241},
		{ .inc = 0, .dec = 1, .expected_result = 241},
		{ .inc = 1, .dec = 1, .expected_result = 242},
		{ .inc = 0, .dec = 1, .expected_result = 242},
		{ .inc = 1, .dec = 1, .expected_result = 243},
		{ .inc = 0, .dec = 1, .expected_result = 243},
		{ .inc = 1, .dec = 1, .expected_result = 244},
		{ .inc = 0, .dec = 1, .expected_result = 244},
		{ .inc = 1, .dec = 1, .expected_result = 245},
		{ .inc = 0, .dec = 1, .expected_result = 245},
		{ .inc = 1, .dec = 1, .expected_result = 246},
		{ .inc = 0, .dec = 1, .expected_result = 246},
		{ .inc = 1, .dec = 1, .expected_result = 247},
		{ .inc = 0, .dec = 1, .expected_result = 247},
		{ .inc = 1, .dec = 1, .expected_result = 248},
		{ .inc = 0, .dec = 1, .expected_result = 248},
		{ .inc = 1, .dec = 1, .expected_result = 249},
		{ .inc = 0, .dec = 1, .expected_result = 249},
		{ .inc = 1, .dec = 1, .expected_result = 250},
		{ .inc = 0, .dec = 1, .expected_result = 250},
		{ .inc = 1, .dec = 1, .expected_result = 251},
		{ .inc = 0, .dec = 1, .expected_result = 251},
		{ .inc = 1, .dec = 1, .expected_result = 252},
		{ .inc = 0, .dec = 1, .expected_result = 252},
		{ .inc = 1, .dec = 1, .expected_result = 253},
		{ .inc = 0, .dec = 1, .expected_result = 253},
		{ .inc = 1, .dec = 1, .expected_result = 254},
		{ .inc = 0, .dec = 1, .expected_result = 254},
		{ .inc = 1, .dec = 1, .expected_result = 255},
		/* overflow */
		{ .inc = 0, .dec = 1, .expected_result = 255},
		{ .inc = 1, .dec = 1, .expected_result = 255}

	};

	unsigned char led_o = 0;

	for (int i = 0; i < SAMPLE_SIZE; i++) {

		push_button_counter(samples[i].inc, samples[i].dec, &led_o);

		if (samples[i].expected_result != led_o)
			err_cnt++;
	}
}
